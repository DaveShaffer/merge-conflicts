"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}angular.module("1vSubShopApp",["1vSubShopApp.constants","ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","ui.bootstrap","ngAnimate"]).config(["$urlRouterProvider","$locationProvider",function(n,t){n.otherwise("/"),t.html5Mode(!0)}]),angular.module("1vSubShopApp.util",[]);var _createClass=function(){function n(n,t){for(var a=0;a<t.length;a++){var e=t[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(t,a,e){return a&&n(t.prototype,a),e&&n(t,e),t}}();!function(){var n=function(){function n(t,a,e){_classCallCheck(this,n),this.$http=t,this.socket=e,this.awesomeThings=[],a.$on("$destroy",function(){e.unsyncUpdates("thing")})}return n.$inject=["$http","$scope","socket"],_createClass(n,[{key:"$onInit",value:function(){var n=this;this.$http.get("/api/things").then(function(t){n.awesomeThings=t.data,n.socket.syncUpdates("thing",n.awesomeThings)})}},{key:"addThing",value:function(){this.newThing&&(this.$http.post("/api/things",{name:this.newThing}),this.newThing="")}},{key:"deleteThing",value:function(n){this.$http["delete"]("/api/things/"+n._id)}}]),n}();angular.module("1vSubShopApp").component("main",{templateUrl:"app/main/main.html",controller:n})}(),angular.module("1vSubShopApp").config(["$stateProvider",function(n){n.state("main",{url:"/",template:"<main></main>"})}]),angular.module("1vSubShopApp").directive("footer",function(){return{templateUrl:"components/footer/footer.html",restrict:"E",link:function(n,t){t.addClass("footer")}}}),angular.module("1vSubShopApp").factory("Modal",["$rootScope","$uibModal",function(n,t){function a(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"modal-default":arguments[1],o=n.$new();return angular.extend(o,a),t.open({templateUrl:"components/modal/modal.html",windowClass:e,scope:o})}return{confirm:{"delete":function(){var n=arguments.length<=0||void 0===arguments[0]?angular.noop:arguments[0];return function(){var t,e=Array.prototype.slice.call(arguments),o=e.shift();t=a({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+o+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(n){t.close(n)}},{classes:"btn-default",text:"Cancel",click:function(n){t.dismiss(n)}}]}},"modal-danger"),t.result.then(function(t){n.apply(t,e)})}}}}}]);var NavbarController=function n(){_classCallCheck(this,n)};angular.module("1vSubShopApp").controller("NavbarController",NavbarController),angular.module("1vSubShopApp").directive("navbar",function(){return{templateUrl:"components/navbar/navbar.html",restrict:"E",controller:"NavbarController",controllerAs:"nav"}}),angular.module("1vSubShopApp").factory("socket",["socketFactory",function(n){var t=io("",{path:"/socket.io-client"}),a=n({ioSocket:t});return{socket:a,syncUpdates:function(n,t,e){e=e||angular.noop,a.on(n+":save",function(n){var a=_.find(t,{_id:n._id}),o=t.indexOf(a),l="created";a?(t.splice(o,1,n),l="updated"):t.push(n),e(l,n,t)}),a.on(n+":remove",function(n){var a="deleted";_.remove(t,{_id:n._id}),e(a,n,t)})},unsyncUpdates:function(n){a.removeAllListeners(n+":save"),a.removeAllListeners(n+":remove")}}}]),function(){function n(n){var t={safeCb:function(n){return angular.isFunction(n)?n:angular.noop},urlParse:function(n){var t=document.createElement("a");return t.href=n,""===t.host&&(t.href=t.href),t},isSameOrigin:function(a,e){return a=t.urlParse(a),e=e&&[].concat(e)||[],e=e.map(t.urlParse),e.push(n.location),e=e.filter(function(n){var t=a.hostname===n.hostname,e=a.protocol===n.protocol,o=a.port===n.port||""===n.port&&("80"===a.port||"443"===a.port);return t&&e&&o}),e.length>=1}};return t}n.$inject=["$window"],angular.module("1vSubShopApp.util").factory("Util",n)}(),angular.module("1vSubShopApp").run(["$templateCache",function(n){n.put("app/main/main.html",'<header class="hero-unit" id="banner">\n  <div class="container">\n    <h1>\'Allo, \'Allo!</h1>\n    <p class="lead">Kick-start your next web app with Angular Fullstack</p>\n    <img src="assets/images/yeoman-462ccecbb1.png" alt="I\'m Yeoman">\n  </div>\n</header>\n\n<div class="container">\n  <div class="row">\n    <div class="col-lg-12">\n      <h1 class="page-header">Features:</h1>\n      <ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in $ctrl.awesomeThings">\n        <li><a href="#" uib-tooltip="{{thing.info}}">{{thing.name}}<button type="button" class="close" ng-click="$ctrl.deleteThing(thing)">&times;</button></a></li>\n      </ul>\n    </div>\n  </div>\n\n  <form class="thing-form">\n    <label>Syncs in realtime across clients</label>\n    <p class="input-group">\n      <input type="text" class="form-control" placeholder="Add a new thing here." ng-model="$ctrl.newThing">\n      <span class="input-group-btn">\n        <button type="submit" class="btn btn-primary" ng-click="$ctrl.addThing()">Add New</button>\n      </span>\n    </p>\n  </form>\n</div>\n'),n.put("components/modal/modal.html",'<div class="modal-header">\n  <button ng-if="modal.dismissable" type="button" ng-click="$dismiss()" class="close">&times;</button>\n  <h4 ng-if="modal.title" ng-bind="modal.title" class="modal-title"></h4>\n</div>\n<div class="modal-body">\n  <p ng-if="modal.text" ng-bind="modal.text"></p>\n  <div ng-if="modal.html" ng-bind-html="modal.html"></div>\n</div>\n<div class="modal-footer">\n  <button ng-repeat="button in modal.buttons" ng-class="button.classes" ng-click="button.click($event)" ng-bind="button.text" class="btn"></button>\n</div>\n'),n.put("components/footer/footer.html",'<div class="container">\n  <p>Angular Fullstack v3.7.5 |\n    <a href="https://twitter.com/tyhenkel">@tyhenkel</a> |\n    <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a>\n  </p>\n</div>\n'),n.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller="NavbarController">\n  <div class="container">\n    <div class="navbar-header">\n      <button class="navbar-toggle" type="button" ng-click="nav.isCollapsed = !nav.isCollapsed">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a href="/" class="navbar-brand">1v-sub-shop</a>\n    </div>\n    <div uib-collapse="nav.isCollapsed" class="navbar-collapse collapse" id="navbar-main">\n      <ul class="nav navbar-nav">\n        <li ng-repeat="item in nav.menu" ui-sref-active="active">\n            <a ui-sref="{{item.state}}">{{item.title}}</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}]);